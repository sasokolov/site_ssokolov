<!DOCTYPE html>


<html lang="ru">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Самоподписной сертификат gost2012 | Сергей Соколов</title>
    <link rel="icon" href="/images/S.png" sizes="32x32" />
    <link rel="icon" href="/images/S.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="/images/S.png" />
    <meta name="description" content="Личный сайт">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab">
    <link rel="stylesheet" href="/css/style.css">
    
</head>
<body class="post">
    <a class="sidebar-toggle open"><div class="dashicons dashicons-menu"></div></a>
    <div id="page" class="site">
        <header id="masthead" class="site-header">
            



<a href="/" class="site-logo-link" rel="home">
    <img width="150" height="150" src="/images/S.png" class="site-logo" alt="Сергей Соколов" />
</a>
<div class="site-branding">
    <h1 class="site-title"><a href="/" rel="home">Сергей Соколов</a></h1>
    <h2 class="site-description">Личный сайт</h2>
</div>
<nav id="site-navigation" class="main-navigation">
    <button class="menu-toggle">Основное меню</button>
    <a class="skip-link screen-reader-text" href="#content">Перейти к содержимому</a>
    <div class="menu-container">
        <ul id="menu" class="menu">
            
              
              <li class="menu-item">
                  <a href="/">Главная</a>
              </li>
              
              <li class="menu-item">
                  <a href="/services/">Услуги</a>
              </li>
              
              <li class="menu-item">
                  <a href="/about/">О себе</a>
              </li>
              
              <li class="menu-item">
                  <a href="/blog/">Блог</a>
              </li>
              
            
            
            <li class="menu-item menu-item-has-children">
                <a href="javascript:toggleLanguage('en')" class="language-switcher-toggle">
                    
                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAMAAABBPP0LAAAAdVBMVEX19f/u7vjm5/H+/v75+fng4Ove3ulFRfyysv6cnP6QkPmIiPh/f/YAAOYAAP1ycv5QUP06OvkxMfcoKPcgIPYUFPS0AADdaYzTRG/RPGnOM2LKLFzIIVPCEUZ7AAD0AQH7YGH3ODj0JyfzERDgAAD4TU3pAABIfLuPAAAAT0lEQVR4AQXBAQqDMAAAsZytyHzA/v9LYRS7JIAQMkBb0ATsgLoKInnHvIrHrdRaBzxupTDxuFUifUsp4R3zU4iwzmOyT1ibBtP2u3C+wB+SHBB5JNY7DAAAAABJRU5ErkJggg==" alt="Русский" width="16" height="11" style="width: 16px; height: 11px;" />
                    
                </a>
            </li>
        </ul>
    </div>
</nav>
        </header>
        <div id="content" class="site-content">
            <div id="primary" class="content-area">
                <main id="main" class="site-main">
                    
                    
<article class="post">
    <header class="entry-header">
        <h2 class="entry-title">Самоподписной сертификат gost2012</h2>
        <div class="entry-meta">
            
            <span class="posted-on">
                
                
                Опубликовано 
                <a href="/2019/02/14/gost2012-certificate/" rel="bookmark">
                    <time class="entry-date published" datetime="2019-02-14T00:00:00&#43;00:00">
                        
                            14.02.2019
                        
                    </time>
                </a>
            </span>
            
            
            <span class="byline"> 
                
                
                автором
                <span class="author vcard">
                    <a class="url fn n" href="http://localhost:1313/author/%D1%81%D0%B5%D1%80%D0%B3%D0%B5%D0%B9">Сергей</a>
                </span>
            </span>
            
        </div>
    </header>
    <div class="entry-content clearfix">
        <p>Чтобы не забыть. Собрал под Centos 7 openssl1.1 и отдельно к нему дивижок gost из <a href="https://github.com/gost-engine/engine">этой репки</a></p>
<p>Генерируем приватный ключ и запрос на сертификат одной командой:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ openssl req  -engine gost  \
</span></span><span style="display:flex;"><span>   -newkey gost2012_512   \
</span></span><span style="display:flex;"><span>   -pkeyopt paramset:A    \
</span></span><span style="display:flex;"><span>   -passout pass:1234567890 \
</span></span><span style="display:flex;"><span>   -subj &#34;/C=RU/ST=Moscow/L=Moscow/O=foo_bar/OU=foo_bar
</span></span><span style="display:flex;"><span>/CN=developer/email@example.com&#34; \
</span></span><span style="display:flex;"><span>   -keyout private-test.key  \
</span></span><span style="display:flex;"><span>   -out certificate-test.csr -md_gost12_512
</span></span></code></pre></div><p>Доступные алгоритмы можно найти <a href="https://github.com/gost-engine/engine/blob/master/README.gost">тут.</a>
Доступные методы хеширования получить так:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ openssl
</span></span><span style="display:flex;"><span>OpenSSL&gt; engine gost
</span></span><span style="display:flex;"><span>OpenSSL&gt; list -digest-algorithms
</span></span></code></pre></div><p>Генерируем сам сертификат:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ openssl x509 -req -days 365 \
</span></span><span style="display:flex;"><span>  -in certificate-test.csr \
</span></span><span style="display:flex;"><span>  -signkey private-test.key \
</span></span><span style="display:flex;"><span>  -out certificate-test.pem \
</span></span><span style="display:flex;"><span>  -engine gost
</span></span></code></pre></div><p>Посмотреть что вышло можно так:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ openssl x509 -engine gost -in certificate-test.pem  -text --noout 
</span></span><span style="display:flex;"><span>Certificate: 
</span></span><span style="display:flex;"><span>    Data: 
</span></span><span style="display:flex;"><span>        Version: 1 (0x0) 
</span></span><span style="display:flex;"><span>        Serial Number: 
</span></span><span style="display:flex;"><span>            2f:54:7c:f3:05:1a:27:4e:e0:db:c3:03:09:81:7c:ef:da:39:d1:cc 
</span></span><span style="display:flex;"><span>        Signature Algorithm: GOST R 34.10-2012 with GOST R 34.11-2012 (512 bit) 
</span></span><span style="display:flex;"><span>        Issuer: C = RU, ST = Moscow, L = Moscow, O = foo_bar, OU = foo_bar, CN = developer, emailAddress = email@example.com 
</span></span><span style="display:flex;"><span>        Validity 
</span></span><span style="display:flex;"><span>            Not Before: Feb 13 16:07:23 2019 GMT 
</span></span><span style="display:flex;"><span>            Not After : Feb 13 16:07:23 2020 GMT 
</span></span><span style="display:flex;"><span>        Subject: C = RU, ST = Moscow, L = Moscow, O = foo_bar, OU = foo_bar, CN = developer, emailAddress = email@example.com 
</span></span><span style="display:flex;"><span>        Subject Public Key Info: 
</span></span><span style="display:flex;"><span>            Public Key Algorithm: GOST R 34.10-2012 with 512 bit modulus 
</span></span><span style="display:flex;"><span>                Public key: 
</span></span><span style="display:flex;"><span>                    X:5E6286D582F33981E60FCF0C932B07A12726E3962F127C161A2BD569A404BC41881922F3F8B6FD402FE1BA093FD04F9AF489EE0637ED18D58FCC8724747494A4 
</span></span><span style="display:flex;"><span>                    Y:9455534A534C4D407C1F134F72FAB196D1110E48042260B84E5B4F1A3D255E688AA5C57580D6718C1713584869316F7D452ABC698FBAF3D5AF0BB6BEF1F8D3F8 
</span></span><span style="display:flex;"><span>                Parameter set: GOST R 34.10-2012 (512 bit) ParamSet A 
</span></span><span style="display:flex;"><span>    Signature Algorithm: GOST R 34.10-2012 with GOST R 34.11-2012 (512 bit) 
</span></span><span style="display:flex;"><span>        28:2b:ed:a5:39:2d:41:47:47:eb:03:55:ca:e1:89:6f:35:12: 
</span></span><span style="display:flex;"><span>        7d:6d:ba:27:cf:30:f5:c0:37:8b:dd:c7:a2:52:16:7c:ee:cb: 
</span></span><span style="display:flex;"><span>        29:f6:0b:00:6a:1b:02:cd:29:60:32:b8:bc:35:a0:93:46:fa: 
</span></span><span style="display:flex;"><span>        b2:25:bc:b7:06:d4:34:dc:a6:65:c8:66:ce:c8:d5:02:5d:fb: 
</span></span><span style="display:flex;"><span>        77:0e:d1:c0:73:f9:af:87:72:89:c3:bd:df:33:ac:ca:74:a6: 
</span></span><span style="display:flex;"><span>        33:aa:01:53:89:09:e6:7e:57:49:b1:7b:36:86:a6:04:ec:d4: 
</span></span><span style="display:flex;"><span>        49:1a:27:98:5e:e1:36:a5:74:5a:54:b0:5a:23:83:c9:be:b3: 
</span></span><span style="display:flex;"><span>        6c:4c
</span></span></code></pre></div>
    </div>
    <footer class="entry-footer">
        
        
        
        <span class="tags-links">
            Метки: 
            
            
            <a href="http://localhost:1313/tags/crypto" rel="tag">crypto</a>
            
            , 
            <a href="http://localhost:1313/tags/gost" rel="tag">gost</a>
            
            , 
            <a href="http://localhost:1313/tags/gost2012" rel="tag">gost2012</a>
            
            , 
            <a href="http://localhost:1313/tags/openssl" rel="tag">openssl</a>
            
        </span>
        
        <span class="comments-link">
            <a href="/2019/02/14/gost2012-certificate/#comments">Оставить комментарий</a>
        </span>
    </footer>
</article>

                </main>
            </div>
        </div>
        <footer id="colophon" class="site-footer">
            <div class="site-info">
    Sergey A. Sokolov © 2016-2025
</div>
        </footer>
    </div>
    <div id="secondary" class="widget-area" role="complementary">
        <a class="sidebar-toggle close"><div class="dashicons dashicons-dismiss"></div></a>
        



<aside class="widget widget_search">
    <form role="search" method="get" class="search-form" action="http://localhost:1313/search">
        <label>
            <span class="screen-reader-text">Найти:</span>
            <input type="search" class="search-field" placeholder="Поиск…" value="" name="s" />
        </label>
        <input type="submit" class="search-submit" value="Поиск" />
    </form>
</aside>

<aside class="widget widget_recent_entries">
    <h3 class="widget-title">Свежие записи</h3>
    <ul>
        
          
          <li>
              <a href="/2019/02/14/gost2012-certificate/">Самоподписной сертификат gost2012</a>
          </li>
          
          <li>
              <a href="/2018/07/02/rpm-cheatsheet/">Шпаргалка rpm</a>
          </li>
          
          <li>
              <a href="/2018/05/12/postgresql-some-queries/">PostgreSQL и некоторые запросы</a>
          </li>
          
          <li>
              <a href="/2016/11/16/ext4-file-based-encryption/">ext4 file-based шифрование</a>
          </li>
          
        
    </ul>
</aside>

<aside class="widget widget_archives">
    <h3 class="widget-title">Архивы</h3>
    <ul>
        <li><a href="/blog/">Все записи</a></li>
    </ul>
</aside>

<aside class="widget widget_categories">
    <h3 class="widget-title">Рубрики</h3>
    <ul>
        
        <li class="cat-item">
            <a href="/categories/news">news</a> (2)
        </li>
        
        <li class="cat-item">
            <a href="/categories/notes">notes</a> (2)
        </li>
        
        <li class="cat-item">
            <a href="/categories/%D0%B7%D0%B0%D0%BC%D0%B5%D1%82%D0%BA%D0%B8">заметки</a> (2)
        </li>
        
        <li class="cat-item">
            <a href="/categories/%D0%BD%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8">новости</a> (2)
        </li>
        
    </ul>
</aside>

<aside class="widget widget_meta">
    <h3 class="widget-title">Мета</h3>
    <ul>
        <li><a href="http://localhost:1313/">Войти</a></li>
        <li><a href="http://localhost:1313/index.xml">Лента записей</a></li>
        <li><a href="https://ru.wordpress.org/">WordPress.org</a></li>
    </ul>
</aside>
    </div>
    <script src="/js/main.js"></script>
</body>
</html>