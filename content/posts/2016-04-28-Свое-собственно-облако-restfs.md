---
title: Свое собственноe облако restfs
author: Сергей
type: post
date: 2016-04-28T13:14:10+00:00
url: /2016/04/28/Свое-собственно-облако-restfs/
categories:
  - Заметки

---
Я тут, тихим сапом, взялся осваивать c++. В результате моих изысканий родилось что то чуть более чем &#171;Hello world&#187;. В качестве задачки я взялся за реализацию некоего REST API для облачного хранения файликов.  
Первый прототип выложил на <a href="https://github.com/sasokol/restfs" target="_blank">GitHub restfs</a>.  
Умеет оно совсем не много.  
&#8212; создавать пользователей  
&#8212; логиниться под этим пользователем (получать сессионный токен)  
&#8212; создавать и просматривать директории  
&#8212; заливать и скачивать файлики.

Работает как fcgi daemon, чтобы легко прятаться за nginx. Все это работает в потоках и настраивается простым ini файлом.  
Файлики хранит в <a href="https://tech.yandex.ru/elliptics/" target="_blank">Elliptics on Yandex</a> а информацию о них хранит в PostgreSQL.

Тут <a href="https://raw.githubusercontent.com/sasokol/restfs/master/doc/restfs.yaml" target="_blank">описание в формате RAML</a> о том, как это использовать.

Для более или менее эксплуатации это сыро сыро:  
&#8212; необходимы методы для изменения и удаления фалов и папок, вызовы для шаринга и блокировок  
&#8212; необходимо написать кучу документации  
&#8212; необходимо придумать как для этого написать юнит-тесты и написать их  
&#8212; необходимо сделать рефакторинг дизайна классов, потому как даже мне становится грустно, когда я на них смотрю.

И это боюсь только начало&#8230;